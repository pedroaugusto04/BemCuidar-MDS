"use strict";(self.webpackChunkmds=self.webpackChunkmds||[]).push([[972],{972:(T,p,a)=>{a.r(p),a.d(p,{REGISTER_PROVIDER_ROUTES:()=>N});var R=a(7460),i=a(9417),l=a(1532),f=a(9213),u=a(9631),g=a(8834),e=a(4438),h=a(3587),E=a(1626);let P=(()=>{class r{constructor(t){this.httpClient=t,this.API=h.c.baseUrl}register(t){const n=new URL(h.c.getApiProviders,this.API).toString();return this.httpClient.post(n,t)}static#e=this.\u0275fac=function(n){return new(n||r)(e.KVO(E.Qq))};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var b=a(5416),k=a(430);function x(r,c){if(1&r){const t=e.RV6();e.j41(0,"div",7)(1,"button",22),e.bIt("click",function(){e.eBV(t);const o=e.XpG(),s=e.sdS(9);return e.Njj(o.triggerFile(s))}),e.j41(2,"span",23)(3,"mat-icon",24),e.EFF(4,"collections"),e.k0s(),e.j41(5,"label"),e.EFF(6,"Foto para upload"),e.k0s()()()()}}function F(r,c){if(1&r){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const o=e.XpG(),s=e.sdS(9);return e.Njj(o.triggerFile(s))}),e.nrm(1,"img",25),e.k0s()}if(2&r){const t=e.XpG();e.R7$(),e.Y8G("src",t.selectedImage,e.B4B)}}function j(r,c){if(1&r&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.JRh(t.formErrorMessage("name"))}}function y(r,c){if(1&r&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.JRh(t.formErrorMessage("age"))}}function M(r,c){if(1&r&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.JRh(t.formErrorMessage("country"))}}function O(r,c){if(1&r&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.JRh(t.formErrorMessage("state"))}}function D(r,c){if(1&r&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.JRh(t.formErrorMessage("city"))}}function I(r,c){if(1&r&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.JRh(t.formErrorMessage("service_description"))}}const N=[{path:"",component:(()=>{class r{constructor(t,n,o,s){this.formBuilder=t,this.registerProviderService=n,this.snackBar=o,this.router=s,this.isFieldClicked=!1,this.selectedImage="",this.formData=new FormData,this.hasErrorImg="",this.form=this.formBuilder.group({name:["",[i.k0.required,i.k0.minLength(3)]],service_description:["",[i.k0.required,i.k0.minLength(3)]],age:["",[i.k0.required]],country:["",[i.k0.required,i.k0.minLength(3)]],state:["",[i.k0.required]],city:["",[i.k0.required,i.k0.minLength(3)]],photo:[""]})}formErrorMessage(t){const n=this.form.get(t);return n?.hasError("required")?"Este campo \xe9 necess\xe1rio":n?.hasError("whitespace")?"Este campo n\xe3o pode conter apenas espa\xe7os em branco":n?.hasError("minlength")?"Este campo est\xe1 muito curto":n?.hasError("link")?"Link inv\xe1lido":"Este campo \xe9 necess\xe1rio"}triggerFile(t){t.click()}onFileSelected(t){const n=t.target.files[0];if(n){this.formData.has("photo")&&this.formData.delete("photo"),this.formData.append("photo",n);const o=new FileReader;o.onload=()=>{this.selectedImage=o.result},o.readAsDataURL(n)}}registerProvider(){const t=this.formData.get("photo");this.formData=new FormData,t&&this.formData.append("photo",t),this.formData.append("name",this.form.value.name),this.formData.append("service_description",this.form.value.service_description),this.formData.append("age",this.form.value.age),this.formData.append("country",this.form.value.country),this.formData.append("state",this.form.value.state),this.formData.append("city",this.form.value.city),this.form.invalid?this.onError("Preencha os campos corretamente!"):this.registerProviderService.register(this.formData).subscribe({next:()=>{this.onSuccess("Cuidador registrado com sucesso!")},error:n=>{this.onError("Erro ao registrar cuidador!")}})}onSuccess(t){this.snackBar.open(t,"X",{duration:1e3,verticalPosition:"top",panelClass:["success-snackbar"]}),setTimeout(()=>{this.router.navigateByUrl("/home")},1e3)}onError(t){this.snackBar.open(t,"X",{duration:1e3,verticalPosition:"top",panelClass:["error-snackbar"]})}static#e=this.\u0275fac=function(n){return new(n||r)(e.rXU(i.Qk),e.rXU(P),e.rXU(b.UG),e.rXU(k.Ix))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-register-provider"]],standalone:!0,features:[e.aNF],decls:45,vars:8,consts:[["fileInput",""],[1,"container"],[1,"div-form"],[3,"formGroup"],[1,"fields"],[1,"upload-img"],["type","file","accept","image/jpeg, image/png",1,"hidden-input",3,"change"],[1,"empty-projects"],["id","nameField","appearance","outline",1,"input"],["matInput","","formControlName","name"],["id","age-field","appearance","outline",1,"input"],["matInput","","formControlName","age"],["id","country-field","appearance","outline",1,"input"],["matInput","","formControlName","country"],["id","state-field","appearance","outline",1,"input"],["matInput","","formControlName","state"],["id","city-field","appearance","outline",1,"input"],["matInput","","formControlName","city"],[1,"description"],["id","description-field","appearance","outline",1,"input"],["matInput","","formControlName","service_description","rows","5","cols","50"],["id","button-register","mat-flat-button","","color","accent",3,"click"],["id","add-img-button",3,"click"],[1,"add-project"],[1,"mat-18"],["alt","Imagem selecionada",1,"project-cover",3,"src"]],template:function(n,o){if(1&n){const s=e.RV6();e.nrm(0,"app-nav-bar"),e.j41(1,"div",1)(2,"h1"),e.EFF(3,"Anuncie seu servi\xe7o"),e.k0s(),e.j41(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"input",6,0),e.bIt("change",function(d){return e.eBV(s),e.Njj(o.onFileSelected(d))}),e.k0s(),e.DNE(10,x,7,0,"div",7)(11,F,2,1),e.k0s(),e.j41(12,"mat-form-field",8)(13,"mat-label"),e.EFF(14,"Nome"),e.k0s(),e.nrm(15,"input",9),e.DNE(16,j,2,1,"mat-error"),e.k0s(),e.j41(17,"mat-form-field",10)(18,"mat-label"),e.EFF(19,"Idade"),e.k0s(),e.nrm(20,"input",11),e.DNE(21,y,2,1,"mat-error"),e.k0s(),e.j41(22,"mat-form-field",12)(23,"mat-label"),e.EFF(24,"Pa\xeds"),e.k0s(),e.nrm(25,"input",13),e.DNE(26,M,2,1,"mat-error"),e.k0s(),e.j41(27,"mat-form-field",14)(28,"mat-label"),e.EFF(29,"Estado"),e.k0s(),e.nrm(30,"input",15),e.DNE(31,O,2,1,"mat-error"),e.k0s(),e.j41(32,"mat-form-field",16)(33,"mat-label"),e.EFF(34,"Cidade"),e.k0s(),e.nrm(35,"input",17),e.DNE(36,D,2,1,"mat-error"),e.k0s(),e.j41(37,"div",18)(38,"mat-form-field",19)(39,"mat-label"),e.EFF(40,"Descri\xe7\xe3o do tipo de Servi\xe7o"),e.k0s(),e.nrm(41,"textarea",20),e.DNE(42,I,2,1,"mat-error"),e.k0s()()()()(),e.j41(43,"button",21),e.bIt("click",function(){return e.eBV(s),e.Njj(o.registerProvider())}),e.EFF(44," REGISTRAR "),e.k0s()()}if(2&n){let s,m,d,v,C,_;e.R7$(5),e.Y8G("formGroup",o.form),e.R7$(5),e.vxM(10,o.selectedImage?11:10),e.R7$(6),e.vxM(16,null!=(s=o.form.get("name"))&&s.invalid?16:-1),e.R7$(5),e.vxM(21,null!=(m=o.form.get("age"))&&m.invalid?21:-1),e.R7$(5),e.vxM(26,null!=(d=o.form.get("country"))&&d.invalid?26:-1),e.R7$(5),e.vxM(31,null!=(v=o.form.get("state"))&&v.invalid?31:-1),e.R7$(5),e.vxM(36,null!=(C=o.form.get("city"))&&C.invalid?36:-1),e.R7$(6),e.vxM(42,null!=(_=o.form.get("service_description"))&&_.invalid?42:-1)}},dependencies:[R.M,l.RG,l.rl,l.nJ,l.TL,i.X1,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,f.m_,f.An,u.fS,u.fg,g.Hl,g.$z],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:.5rem}.fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%]{padding-top:1.5rem;font-size:2.1rem}.input[_ngcontent-%COMP%]{width:18rem;padding-bottom:1.5rem}.div-form[_ngcontent-%COMP%]{padding:2rem;display:flex;align-items:center;justify-content:center}.upload-img[_ngcontent-%COMP%]{margin-bottom:1rem;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.empty-projects[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;height:19rem;border-radius:var(--borderRadius, .25rem);background:var(--color-principal-70, #e6e9f2)}label[_ngcontent-%COMP%]{color:var(--Neutral-Colors-Neutral-110, #515255)}h5[_ngcontent-%COMP%]{flex-shrink:0;align-self:stretch;color:var(--Neutral-Colors-Neutral-110, #515255);line-height:1.5rem}.hidden-input[_ngcontent-%COMP%]{display:none}.add-project[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-18[_ngcontent-%COMP%]{align-self:center;width:2.875rem;height:2.875rem;font-size:2.857rem;margin-bottom:1rem}#add-img-button[_ngcontent-%COMP%]{cursor:pointer;width:100%;height:100%;border:none}.button-container[_ngcontent-%COMP%]{padding:0!important}.project-cover[_ngcontent-%COMP%]{width:100%;border-radius:.25rem;object-fit:cover}.div-finish-modal[_ngcontent-%COMP%]{display:flex;padding:var(--none, 0rem);flex-direction:column;align-items:flex-start;gap:var(--2, 1rem)}.projects[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:.25rem}.button-save[_ngcontent-%COMP%]{color:#fcfdff;display:flex;margin-right:1rem;flex-direction:column;justify-content:center;align-items:center;border-radius:var(--borderRadius, .25rem);background:var(--Color-Brand-Secundria-Secondary-100, #f52);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}#button-cancel[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:var(--borderRadius, .25rem);background:var(--action-disabledBackground, rgba(0, 0, 0, .12));color:var(--action-disabled, rgba(0, 0, 0, .38));font-feature-settings:"clig" off,"liga" off;font-family:Roboto;font-size:.9375rem;font-style:normal;font-weight:500;line-height:1.625rem;letter-spacing:.02875rem;text-transform:uppercase}@media screen and (min-width: 992px){.fields[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:first baseline;flex-wrap:wrap}.input[_ngcontent-%COMP%]{width:30%;margin:1rem}.description[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.description[_ngcontent-%COMP%]   #description-field[_ngcontent-%COMP%]{width:60rem}.upload-img[_ngcontent-%COMP%]{width:100%}.empty-projects[_ngcontent-%COMP%]{width:50rem;height:25rem}#button-register[_ngcontent-%COMP%]{width:20rem;height:3rem;margin:1rem}}']})}return r})()}]}}]);