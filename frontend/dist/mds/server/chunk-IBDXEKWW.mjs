import './polyfills.server.mjs';
import{a as te,b as ie}from"./chunk-DMEJCSY3.mjs";import{a as G,b as s,d as z,e as X,g as H,h as J,i as K,j as Q,k as W,l as Y,m as Z,q as $,r as ee}from"./chunk-GED3TJSF.mjs";import{a as q,b as A,e as U}from"./chunk-VC2TCARJ.mjs";import{A as L,a as w,t as V,u as B}from"./chunk-J4OVULGT.mjs";import{$a as y,Ba as u,Da as P,Ga as f,H as R,Ja as a,K as j,Ka as t,La as p,Nb as N,O as k,Oa as M,Ra as x,T as _,Ta as d,U as v,ab as m,bb as h,gb as F,jc as T,ma as D,oa as c,pa as C}from"./chunk-T7GZVMYR.mjs";import"./chunk-VVCT4QZE.mjs";var ne=(()=>{let r=class r{constructor(n){this.httpClient=n,this.API=w.baseUrl}register(n){let i=new URL(w.getApiProviders,this.API).toString();return this.httpClient.post(i,n)}};r.\u0275fac=function(i){return new(i||r)(j(N))},r.\u0275prov=R({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();function le(e,r){if(e&1){let l=M();a(0,"div",7)(1,"button",22),x("click",function(){_(l);let i=d(),o=y(9);return v(i.triggerFile(o))}),a(2,"span",23)(3,"mat-icon",24),m(4,"collections"),t(),a(5,"label"),m(6,"Foto para upload"),t()()()()}}function me(e,r){if(e&1){let l=M();a(0,"button",22),x("click",function(){_(l);let i=d(),o=y(9);return v(i.triggerFile(o))}),p(1,"img",25),t()}if(e&2){let l=d();c(),P("src",l.selectedImage,D)}}function ce(e,r){if(e&1&&(a(0,"mat-error"),m(1),t()),e&2){let l=d();c(),h(l.formErrorMessage("name"))}}function se(e,r){if(e&1&&(a(0,"mat-error"),m(1),t()),e&2){let l=d();c(),h(l.formErrorMessage("age"))}}function de(e,r){if(e&1&&(a(0,"mat-error"),m(1),t()),e&2){let l=d();c(),h(l.formErrorMessage("country"))}}function pe(e,r){if(e&1&&(a(0,"mat-error"),m(1),t()),e&2){let l=d();c(),h(l.formErrorMessage("state"))}}function ue(e,r){if(e&1&&(a(0,"mat-error"),m(1),t()),e&2){let l=d();c(),h(l.formErrorMessage("city"))}}function fe(e,r){if(e&1&&(a(0,"mat-error"),m(1),t()),e&2){let l=d();c(),h(l.formErrorMessage("service_description"))}}var re=(()=>{let r=class r{constructor(n,i,o,g){this.formBuilder=n,this.registerProviderService=i,this.snackBar=o,this.router=g,this.isFieldClicked=!1,this.selectedImage="",this.formData=new FormData,this.hasErrorImg="",this.form=this.formBuilder.group({name:["",[s.required,s.minLength(3)]],service_description:["",[s.required,s.minLength(3)]],age:["",[s.required]],country:["",[s.required,s.minLength(3)]],state:["",[s.required]],city:["",[s.required,s.minLength(3)]],photo:[""]})}formErrorMessage(n){let i=this.form.get(n);return i?.hasError("required")?"Este campo \xE9 necess\xE1rio":i?.hasError("whitespace")?"Este campo n\xE3o pode conter apenas espa\xE7os em branco":i?.hasError("minlength")?"Este campo est\xE1 muito curto":i?.hasError("link")?"Link inv\xE1lido":"Este campo \xE9 necess\xE1rio"}triggerFile(n){n.click()}onFileSelected(n){let i=n.target.files[0];if(i){this.formData.has("photo")&&this.formData.delete("photo"),this.formData.append("photo",i);let o=new FileReader;o.onload=()=>{this.selectedImage=o.result},o.readAsDataURL(i)}}registerProvider(){let n=this.formData.get("photo");if(this.formData=new FormData,n&&this.formData.append("photo",n),this.formData.append("name",this.form.value.name),this.formData.append("service_description",this.form.value.service_description),this.formData.append("age",this.form.value.age),this.formData.append("country",this.form.value.country),this.formData.append("state",this.form.value.state),this.formData.append("city",this.form.value.city),this.form.invalid){this.onError("Preencha os campos corretamente!");return}this.registerProviderService.register(this.formData).subscribe({next:()=>{this.onSuccess("Cuidador registrado com sucesso!")},error:i=>{this.onError("Erro ao registrar cuidador!")}})}onSuccess(n){this.snackBar.open(n,"X",{duration:1e3,verticalPosition:"top",panelClass:["success-snackbar"]}),setTimeout(()=>{this.router.navigateByUrl("/home")},1e3)}onError(n){this.snackBar.open(n,"X",{duration:1e3,verticalPosition:"top",panelClass:["error-snackbar"]})}};r.\u0275fac=function(i){return new(i||r)(C(Q),C(ne),C(L),C(T))},r.\u0275cmp=k({type:r,selectors:[["app-register-provider"]],standalone:!0,features:[F],decls:45,vars:8,consts:[["fileInput",""],[1,"container"],[1,"div-form"],[3,"formGroup"],[1,"fields"],[1,"upload-img"],["type","file","accept","image/jpeg, image/png",1,"hidden-input",3,"change"],[1,"empty-projects"],["id","nameField","appearance","outline",1,"input"],["matInput","","formControlName","name"],["id","age-field","appearance","outline",1,"input"],["matInput","","formControlName","age"],["id","country-field","appearance","outline",1,"input"],["matInput","","formControlName","country"],["id","state-field","appearance","outline",1,"input"],["matInput","","formControlName","state"],["id","city-field","appearance","outline",1,"input"],["matInput","","formControlName","city"],[1,"description"],["id","description-field","appearance","outline",1,"input"],["matInput","","formControlName","service_description","rows","5","cols","50"],["id","button-register","mat-flat-button","","color","accent",3,"click"],["id","add-img-button",3,"click"],[1,"add-project"],[1,"mat-18"],["alt","Imagem selecionada",1,"project-cover",3,"src"]],template:function(i,o){if(i&1){let g=M();p(0,"app-nav-bar"),a(1,"div",1)(2,"h1"),m(3,"Anuncie seu servi\xE7o"),t(),a(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"input",6,0),x("change",function(E){return _(g),v(o.onFileSelected(E))}),t(),u(10,le,7,0,"div",7)(11,me,2,1),t(),a(12,"mat-form-field",8)(13,"mat-label"),m(14,"Nome"),t(),p(15,"input",9),u(16,ce,2,1,"mat-error"),t(),a(17,"mat-form-field",10)(18,"mat-label"),m(19,"Idade"),t(),p(20,"input",11),u(21,se,2,1,"mat-error"),t(),a(22,"mat-form-field",12)(23,"mat-label"),m(24,"Pa\xEDs"),t(),p(25,"input",13),u(26,de,2,1,"mat-error"),t(),a(27,"mat-form-field",14)(28,"mat-label"),m(29,"Estado"),t(),p(30,"input",15),u(31,pe,2,1,"mat-error"),t(),a(32,"mat-form-field",16)(33,"mat-label"),m(34,"Cidade"),t(),p(35,"input",17),u(36,ue,2,1,"mat-error"),t(),a(37,"div",18)(38,"mat-form-field",19)(39,"mat-label"),m(40,"Descri\xE7\xE3o do tipo de Servi\xE7o"),t(),p(41,"textarea",20),u(42,fe,2,1,"mat-error"),t()()()()(),a(43,"button",21),x("click",function(){return _(g),v(o.registerProvider())}),m(44," REGISTRAR "),t()()}if(i&2){let g,b,E,I,S,O;c(5),P("formGroup",o.form),c(5),f(10,o.selectedImage?11:10),c(6),f(16,(g=o.form.get("name"))!=null&&g.invalid?16:-1),c(5),f(21,(b=o.form.get("age"))!=null&&b.invalid?21:-1),c(5),f(26,(E=o.form.get("country"))!=null&&E.invalid?26:-1),c(5),f(31,(I=o.form.get("state"))!=null&&I.invalid?31:-1),c(5),f(36,(S=o.form.get("city"))!=null&&S.invalid?36:-1),c(6),f(42,(O=o.form.get("service_description"))!=null&&O.invalid?42:-1)}},dependencies:[U,ee,$,Y,Z,W,H,G,z,X,J,K,A,q,ie,te,B,V],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:.5rem}.fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%]{padding-top:1.5rem;font-size:2.1rem}.input[_ngcontent-%COMP%]{width:18rem;padding-bottom:1.5rem}.div-form[_ngcontent-%COMP%]{padding:2rem;display:flex;align-items:center;justify-content:center}.upload-img[_ngcontent-%COMP%]{margin-bottom:1rem;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.empty-projects[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;height:19rem;border-radius:var(--borderRadius, .25rem);background:var(--color-principal-70, #e6e9f2)}label[_ngcontent-%COMP%]{color:var(--Neutral-Colors-Neutral-110, #515255)}h5[_ngcontent-%COMP%]{flex-shrink:0;align-self:stretch;color:var(--Neutral-Colors-Neutral-110, #515255);line-height:1.5rem}.hidden-input[_ngcontent-%COMP%]{display:none}.add-project[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-18[_ngcontent-%COMP%]{align-self:center;width:2.875rem;height:2.875rem;font-size:2.857rem;margin-bottom:1rem}#add-img-button[_ngcontent-%COMP%]{cursor:pointer;width:100%;height:100%;border:none}.button-container[_ngcontent-%COMP%]{padding:0!important}.project-cover[_ngcontent-%COMP%]{width:100%;border-radius:.25rem;object-fit:cover}.div-finish-modal[_ngcontent-%COMP%]{display:flex;padding:var(--none, 0rem);flex-direction:column;align-items:flex-start;gap:var(--2, 1rem)}.projects[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:.25rem}.button-save[_ngcontent-%COMP%]{color:#fcfdff;display:flex;margin-right:1rem;flex-direction:column;justify-content:center;align-items:center;border-radius:var(--borderRadius, .25rem);background:var(--Color-Brand-Secundria-Secondary-100, #f52);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}#button-cancel[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:var(--borderRadius, .25rem);background:var(--action-disabledBackground, rgba(0, 0, 0, .12));color:var(--action-disabled, rgba(0, 0, 0, .38));font-feature-settings:"clig" off,"liga" off;font-family:Roboto;font-size:.9375rem;font-style:normal;font-weight:500;line-height:1.625rem;letter-spacing:.02875rem;text-transform:uppercase}@media screen and (min-width: 992px){.fields[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:first baseline;flex-wrap:wrap}.input[_ngcontent-%COMP%]{width:30%;margin:1rem}.description[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.description[_ngcontent-%COMP%]   #description-field[_ngcontent-%COMP%]{width:60rem}.upload-img[_ngcontent-%COMP%]{width:100%}.empty-projects[_ngcontent-%COMP%]{width:50rem;height:25rem}#button-register[_ngcontent-%COMP%]{width:20rem;height:3rem;margin:1rem}}']});let e=r;return e})();var ke=[{path:"",component:re}];export{ke as REGISTER_PROVIDER_ROUTES};
